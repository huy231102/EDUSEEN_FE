@startuml Delete Course Sequence Diagram - Simplified
!theme plain
title Sequence Diagram - Delete Course Feature (Simplified)

participant "Lecturer" as L
participant "CourseListPage" as CLP
participant "TeacherCourseController" as TCC
participant "CourseTeacherService" as CTS
participant "Database" as DB

== Delete Course Flow ==

L -> CLP: 1: select course to delete
L -> CLP: 2: click delete button
L -> CLP: 3: confirm deletion
activate CLP

CLP -> CLP: 4: show confirmation dialog
note right: "Are you sure you want to delete this course?"

alt [User confirms]
    CLP -> TCC: 5: deleteCourse request
    activate TCC
    
    TCC -> CTS: 6: deleteCourseAsync(courseId, teacherId)
    activate CTS
    
    CTS -> CTS: 7: verify course ownership
    note right: Check course belongs to lecturer
    
    CTS -> DB: 8: delete related data
    activate DB
    note right: Delete enrollments, reviews, assignments, etc.
    DB --> CTS: 9: related data deleted
    deactivate DB
    
    CTS -> DB: 10: delete course from database
    activate DB
    DB --> CTS: 11: course deleted successfully
    deactivate DB
    
    CTS --> TCC: 12: delete success response
    deactivate CTS
    
    TCC --> CLP: 13: course deleted successfully
    deactivate TCC
    
    CLP -> CLP: 14: refresh course list
    CLP -> L: 15: show success message
    deactivate CLP
    
else [User cancels]
    CLP -> L: 5: cancel deletion
    deactivate CLP
end

@enduml 