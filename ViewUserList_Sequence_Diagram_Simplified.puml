@startuml View User List Sequence Diagram - Simplified
!theme plain
title Sequence Diagram - View User List Feature (Simplified)

participant "Admin" as A
participant "AdminDashboard" as AD
participant "AuthContext" as AC
participant "AdminUserController" as AUC
participant "UserService" as US
participant "UserRepository" as UR
participant "Database" as DB

== View User List Flow ==

A -> AD: 1: access admin dashboard
activate AD

AD -> AC: 2: check admin authentication
activate AC
AC -> AC: 3: verify admin role
AC --> AD: 4: admin user data
deactivate AC

alt [Admin authenticated]
    AD -> AD: 5: load admin dashboard
    note right: Display admin interface
    
    AD -> AUC: 6: get all users request
    activate AUC
    
    AUC -> AUC: 7: verify admin authorization
    note right: Check [Authorize(Roles = "Admin")]
    
    AUC -> US: 8: getAllUsersAsync()
    activate US
    
    US -> UR: 9: getAllUsersWithRoleAsync()
    activate UR
    UR -> DB: query all users with roles
    activate DB
    DB --> UR: users data
    deactivate DB
    UR --> US: 10: users list
    deactivate UR
    
    US -> US: 11: format users data
    US --> AUC: 12: users response
    deactivate US
    
    AUC --> AD: 13: users list data
    deactivate AUC
    
    AD -> AD: 14: process and display users
    note right: Map data, apply filters, pagination
    
    AD -> A: 15: render user list table
    deactivate AD
    
else [Not admin]
    AD -> A: redirect to unauthorized page
    deactivate AD
end

@enduml 