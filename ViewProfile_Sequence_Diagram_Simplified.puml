@startuml View Profile Sequence Diagram - Simplified
!theme plain
title Sequence Diagram - View Profile Feature (Simplified)

participant "Client" as C
participant "ProfilePage" as PP
participant "AuthContext" as AC
participant "ProfileController" as PC
participant "ProfileService" as PS
participant "UserRepository" as UR
participant "Database" as DB

== View Profile Flow ==

C -> PP: 1: access profile page
activate PP

PP -> AC: 2: check authentication
activate AC
AC -> AC: 3: verify user token
AC --> PP: 4: user data
deactivate AC

alt [User authenticated]
    PP -> PP: 5: load user data from context
    note right: Display user info from AuthContext
    
    PP -> PC: 6: get profile request
    activate PC
    
    PC -> PC: 7: extract user ID from token
    note right: Get userId from JWT token
    
    PC -> PS: 8: getProfileAsync()
    activate PS
    
    PS -> UR: 9: getUserById(userId)
    activate UR
    UR -> DB: query user by ID
    activate DB
    DB --> UR: user data
    deactivate DB
    UR --> PS: 10: user profile data
    deactivate UR
    
    PS -> PS: 11: format profile data
    PS --> PC: 12: profile response
    deactivate PS
    
    PC --> PP: 13: profile data
    deactivate PC
    
    PP -> PP: 14: display profile information
    note right: Show: name, email, avatar, role, etc.
    
    PP --> C: 15: render profile page
    deactivate PP
    
else [User not authenticated]
    PP -> C: redirect to login page
    deactivate PP
end

@enduml 